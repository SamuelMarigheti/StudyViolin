{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":38,"index":187}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/src/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [isLoading, setIsLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          _servicesApi.api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await _servicesApi.api.get('/api/auth/me');\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('auth_token');\n        delete _servicesApi.api.defaults.headers.common['Authorization'];\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      const response = await _servicesApi.api.post('/api/auth/login', {\n        username,\n        password\n      });\n      const {\n        access_token\n      } = response.data;\n      await AsyncStorage.default.setItem('auth_token', access_token);\n      _servicesApi.api.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n      const userResponse = await _servicesApi.api.get('/api/auth/me');\n      setUser(userResponse.data);\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      delete _servicesApi.api.defaults.headers.common['Authorization'];\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        isLoading,\n        isAuthenticated: !!user,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"YajQB7LURzRD+QP5gw0+K2TZIWA=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":93,"map":[[15,2,21,0,"exports"],[15,9,21,0],[15,10,21,0,"AuthProvider"],[15,22,21,0],[15,25,21,0,"AuthProvider"],[15,37,21,0],[16,2,77,0,"exports"],[16,9,77,0],[16,10,77,0,"useAuth"],[16,17,77,0],[16,20,77,0,"useAuth"],[16,27,77,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,3,38],[21,6,3,38,"_reactJsxDevRuntime"],[21,25,3,38],[21,28,3,38,"require"],[21,35,3,38],[21,36,3,38,"_dependencyMap"],[21,50,3,38],[22,2,19,0],[22,8,19,6,"AuthContext"],[22,19,19,17],[22,35,19,20],[22,39,19,20,"createContext"],[22,45,19,33],[22,46,19,33,"createContext"],[22,59,19,33],[22,61,19,63,"undefined"],[22,70,19,72],[22,71,19,73],[23,2,21,7],[23,11,21,16,"AuthProvider"],[23,23,21,28,"AuthProvider"],[23,24,21,29],[24,4,21,31,"children"],[25,2,21,71],[25,3,21,72],[25,5,21,74],[26,4,21,74,"_s"],[26,6,21,74],[27,4,22,2],[27,10,22,8],[27,11,22,9,"user"],[27,15,22,13],[27,17,22,15,"setUser"],[27,24,22,22],[27,25,22,23],[27,28,22,26],[27,32,22,26,"useState"],[27,38,22,34],[27,39,22,34,"useState"],[27,47,22,34],[27,49,22,48],[27,53,22,52],[27,54,22,53],[28,4,23,2],[28,10,23,8],[28,11,23,9,"isLoading"],[28,20,23,18],[28,22,23,20,"setIsLoading"],[28,34,23,32],[28,35,23,33],[28,38,23,36],[28,42,23,36,"useState"],[28,48,23,44],[28,49,23,44,"useState"],[28,57,23,44],[28,59,23,45],[28,63,23,49],[28,64,23,50],[29,4,25,2],[29,8,25,2,"useEffect"],[29,14,25,11],[29,15,25,11,"useEffect"],[29,24,25,11],[29,26,25,12],[29,32,25,18],[30,6,26,4,"checkAuth"],[30,15,26,13],[30,16,26,14],[30,17,26,15],[31,4,27,2],[31,5,27,3],[31,7,27,5],[31,9,27,7],[31,10,27,8],[32,4,29,2],[32,10,29,8,"checkAuth"],[32,19,29,17],[32,22,29,20],[32,28,29,20,"checkAuth"],[32,29,29,20],[32,34,29,32],[33,6,30,4],[33,10,30,8],[34,8,31,6],[34,14,31,12,"token"],[34,19,31,17],[34,22,31,20],[34,28,31,26,"AsyncStorage"],[34,40,31,38],[34,41,31,38,"default"],[34,48,31,38],[34,49,31,39,"getItem"],[34,56,31,46],[34,57,31,47],[34,69,31,59],[34,70,31,60],[35,8,32,6],[35,12,32,10,"token"],[35,17,32,15],[35,19,32,17],[36,10,33,8,"api"],[36,22,33,11],[36,23,33,11,"api"],[36,26,33,11],[36,27,33,12,"defaults"],[36,35,33,20],[36,36,33,21,"headers"],[36,43,33,28],[36,44,33,29,"common"],[36,50,33,35],[36,51,33,36],[36,66,33,51],[36,67,33,52],[36,70,33,55],[36,80,33,65,"token"],[36,85,33,70],[36,87,33,72],[37,10,34,8],[37,16,34,14,"response"],[37,24,34,22],[37,27,34,25],[37,33,34,31,"api"],[37,45,34,34],[37,46,34,34,"api"],[37,49,34,34],[37,50,34,35,"get"],[37,53,34,38],[37,54,34,39],[37,68,34,53],[37,69,34,54],[38,10,35,8,"setUser"],[38,17,35,15],[38,18,35,16,"response"],[38,26,35,24],[38,27,35,25,"data"],[38,31,35,29],[38,32,35,30],[39,8,36,6],[40,6,37,4],[40,7,37,5],[40,8,37,6],[40,15,37,13,"error"],[40,20,37,18],[40,22,37,20],[41,8,38,6],[41,14,38,12,"AsyncStorage"],[41,26,38,24],[41,27,38,24,"default"],[41,34,38,24],[41,35,38,25,"removeItem"],[41,45,38,35],[41,46,38,36],[41,58,38,48],[41,59,38,49],[42,8,39,6],[42,15,39,13,"api"],[42,27,39,16],[42,28,39,16,"api"],[42,31,39,16],[42,32,39,17,"defaults"],[42,40,39,25],[42,41,39,26,"headers"],[42,48,39,33],[42,49,39,34,"common"],[42,55,39,40],[42,56,39,41],[42,71,39,56],[42,72,39,57],[43,6,40,4],[43,7,40,5],[43,16,40,14],[44,8,41,6,"setIsLoading"],[44,20,41,18],[44,21,41,19],[44,26,41,24],[44,27,41,25],[45,6,42,4],[46,4,43,2],[46,5,43,3],[47,4,45,2],[47,10,45,8,"login"],[47,15,45,13],[47,18,45,16],[47,24,45,16,"login"],[47,25,45,23,"username"],[47,33,45,39],[47,35,45,41,"password"],[47,43,45,57],[47,48,45,62],[48,6,46,4],[48,12,46,10,"response"],[48,20,46,18],[48,23,46,21],[48,29,46,27,"api"],[48,41,46,30],[48,42,46,30,"api"],[48,45,46,30],[48,46,46,31,"post"],[48,50,46,35],[48,51,46,36],[48,68,46,53],[48,70,46,55],[49,8,46,57,"username"],[49,16,46,65],[50,8,46,67,"password"],[51,6,46,76],[51,7,46,77],[51,8,46,78],[52,6,47,4],[52,12,47,10],[53,8,47,12,"access_token"],[54,6,47,25],[54,7,47,26],[54,10,47,29,"response"],[54,18,47,37],[54,19,47,38,"data"],[54,23,47,42],[55,6,49,4],[55,12,49,10,"AsyncStorage"],[55,24,49,22],[55,25,49,22,"default"],[55,32,49,22],[55,33,49,23,"setItem"],[55,40,49,30],[55,41,49,31],[55,53,49,43],[55,55,49,45,"access_token"],[55,67,49,57],[55,68,49,58],[56,6,50,4,"api"],[56,18,50,7],[56,19,50,7,"api"],[56,22,50,7],[56,23,50,8,"defaults"],[56,31,50,16],[56,32,50,17,"headers"],[56,39,50,24],[56,40,50,25,"common"],[56,46,50,31],[56,47,50,32],[56,62,50,47],[56,63,50,48],[56,66,50,51],[56,76,50,61,"access_token"],[56,88,50,73],[56,90,50,75],[57,6,52,4],[57,12,52,10,"userResponse"],[57,24,52,22],[57,27,52,25],[57,33,52,31,"api"],[57,45,52,34],[57,46,52,34,"api"],[57,49,52,34],[57,50,52,35,"get"],[57,53,52,38],[57,54,52,39],[57,68,52,53],[57,69,52,54],[58,6,53,4,"setUser"],[58,13,53,11],[58,14,53,12,"userResponse"],[58,26,53,24],[58,27,53,25,"data"],[58,31,53,29],[58,32,53,30],[59,4,54,2],[59,5,54,3],[60,4,56,2],[60,10,56,8,"logout"],[60,16,56,14],[60,19,56,17],[60,25,56,17,"logout"],[60,26,56,17],[60,31,56,29],[61,6,57,4],[61,12,57,10,"AsyncStorage"],[61,24,57,22],[61,25,57,22,"default"],[61,32,57,22],[61,33,57,23,"removeItem"],[61,43,57,33],[61,44,57,34],[61,56,57,46],[61,57,57,47],[62,6,58,4],[62,13,58,11,"api"],[62,25,58,14],[62,26,58,14,"api"],[62,29,58,14],[62,30,58,15,"defaults"],[62,38,58,23],[62,39,58,24,"headers"],[62,46,58,31],[62,47,58,32,"common"],[62,53,58,38],[62,54,58,39],[62,69,58,54],[62,70,58,55],[63,6,59,4,"setUser"],[63,13,59,11],[63,14,59,12],[63,18,59,16],[63,19,59,17],[64,4,60,2],[64,5,60,3],[65,4,62,2],[65,24,63,4],[65,28,63,4,"_reactJsxDevRuntime"],[65,47,63,4],[65,48,63,4,"jsxDEV"],[65,54,63,4],[65,56,63,5,"AuthContext"],[65,67,63,16],[65,68,63,17,"Provider"],[65,76,63,25],[66,6,64,6,"value"],[66,11,64,11],[66,13,64,13],[67,8,65,8,"user"],[67,12,65,12],[68,8,66,8,"isLoading"],[68,17,66,17],[69,8,67,8,"isAuthenticated"],[69,23,67,23],[69,25,67,25],[69,26,67,26],[69,27,67,27,"user"],[69,31,67,31],[70,8,68,8,"login"],[70,13,68,13],[71,8,69,8,"logout"],[72,6,70,6],[72,7,70,8],[73,6,70,8,"children"],[73,14,70,8],[73,16,72,7,"children"],[74,4,72,15],[75,6,72,15,"fileName"],[75,14,72,15],[75,16,72,15,"_jsxFileName"],[75,28,72,15],[76,6,72,15,"lineNumber"],[76,16,72,15],[77,6,72,15,"columnNumber"],[77,18,72,15],[78,4,72,15],[78,11,73,26],[78,12,73,27],[79,2,75,0],[80,2,75,1,"_s"],[80,4,75,1],[80,5,21,16,"AuthProvider"],[80,17,21,28],[81,2,21,28,"_c"],[81,4,21,28],[81,7,21,16,"AuthProvider"],[81,19,21,28],[82,2,77,7],[82,11,77,16,"useAuth"],[82,18,77,23,"useAuth"],[82,19,77,23],[82,21,77,26],[83,4,77,26,"_s2"],[83,7,77,26],[84,4,78,2],[84,10,78,8,"context"],[84,17,78,15],[84,20,78,18],[84,24,78,18,"useContext"],[84,30,78,28],[84,31,78,28,"useContext"],[84,41,78,28],[84,43,78,29,"AuthContext"],[84,54,78,40],[84,55,78,41],[85,4,79,2],[85,8,79,6,"context"],[85,15,79,13],[85,20,79,18,"undefined"],[85,29,79,27],[85,31,79,29],[86,6,80,4],[86,12,80,10],[86,16,80,14,"Error"],[86,21,80,19],[86,22,80,20],[86,67,80,65],[86,68,80,66],[87,4,81,2],[88,4,82,2],[88,11,82,9,"context"],[88,18,82,16],[89,2,83,0],[90,2,83,1,"_s2"],[90,5,83,1],[90,6,77,16,"useAuth"],[90,13,77,23],[91,2,77,23],[91,6,77,23,"_c"],[91,8,77,23],[92,2,77,23,"$RefreshReg$"],[92,14,77,23],[92,15,77,23,"_c"],[92,17,77,23],[93,0,77,23],[93,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","checkAuth","login","logout","useAuth"],"mappings":"AAA;OCoB;YCI;GDE;oBEE;GFc;gBGE;GHS;iBIE;GJI;CDe;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}